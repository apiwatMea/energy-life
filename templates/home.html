<!doctype html>
<html lang="th">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>‡∏ö‡πâ‡∏≤‡∏ô‡∏Ç‡∏≠‡∏á‡∏â‡∏±‡∏ô ‚Ä¢ ENERGY LIFE</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}"/>
</head>
<body class="bg">
<div class="shell">

  <!-- ================= HEADER ================= -->
  <header class="top bar">
    <div class="row gap">
      <div class="badge">{{ levels[house_level-1].badge }}</div>
      <div>
        <div class="title">
          ‡∏ö‡πâ‡∏≤‡∏ô‡∏Ç‡∏≠‡∏á {{ profile.display_name if profile.display_name else user.username }}
        </div>
        <div class="subtitle">
          <span class="muted">‡πÇ‡∏´‡∏°‡∏î‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏à‡∏£‡∏¥‡∏á</span>
          ‚Ä¢ TOU: <b>{{ state.tariff_mode }}</b>
          ‚Ä¢ Solar: <b>{{ state.solar_kw }}</b> kW
          ‚Ä¢ EV: <b>{{ "ON" if state.ev_enabled else "OFF" }}</b>
        </div>
      </div>
    </div>

    <div class="row gap">
      <a class="btn" href="{{ url_for('home') }}">üè† ‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å</a>
      <a class="btn" href="{{ url_for('dashboard') }}">üìä Dashboard</a>
      <a class="btn" href="{{ url_for('rooms_setup') }}">üß© ‡∏´‡πâ‡∏≠‡∏á & ‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå</a>
      <a class="btn" href="{{ url_for('user_settings') }}">‚öôÔ∏è ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤</a>
      {% if user.role in ['admin','officer'] %}
        <a class="btn" href="{{ url_for('admin') }}">üõ† Admin</a>
      {% endif %}
      <a class="btn ghost" href="{{ url_for('logout') }}">‡∏≠‡∏≠‡∏Å</a>
    </div>
  </header>

  <!-- ================= MAIN ================= -->
  <main class="grid2">

    <!-- ===== LEFT: CONFIG ===== -->
    <section class="card">
      <h2>‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ ‚Äú‡∏ö‡πâ‡∏≤‡∏ô‡∏à‡∏£‡∏¥‡∏á‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‚Äù</h2>

      <!-- PROFILE -->
      <div class="grid3 mt">
        <div class="mini">
          <div class="mini-title">üë§ ‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô</div>
          <select disabled>
            <option>{{ profile.player_type }}</option>
          </select>
        </div>
        <div class="mini">
          <div class="mini-title">üè† ‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏ö‡πâ‡∏≤‡∏ô</div>
          <select disabled>
            <option>{{ profile.house_type }}</option>
          </select>
        </div>
        <div class="mini">
          <div class="mini-title">üìè ‡∏Ç‡∏ô‡∏≤‡∏î‡∏ö‡πâ‡∏≤‡∏ô</div>
          <select disabled>
            <option>{{ profile.house_size }}</option>
          </select>
        </div>
      </div>

      <div class="row gap mt">
        <div class="mini grow">
          <div class="mini-title">üë®‚Äçüë©‚Äçüëß‚Äçüë¶ ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏Ñ‡∏ô</div>
          <input type="number" value="{{ profile.residents }}" disabled/>
        </div>
        <div class="mini grow">
          <div class="mini-title">üßæ ‡∏°‡∏¥‡πÄ‡∏ï‡∏≠‡∏£‡πå</div>
          <input value="{{ state.tariff_mode }}" disabled/>
        </div>
        <div class="mini grow">
          <div class="mini-title">‚òÄÔ∏è Solar</div>
          <input value="{{ state.solar_kw }} kW" disabled/>
        </div>
      </div>

      <div class="divider"></div>

      <!-- APPLIANCES SUMMARY -->
      <h3>üîå ‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå‡πÑ‡∏ü‡∏ü‡πâ‡∏≤ (‡∏†‡∏≤‡∏û‡∏£‡∏ß‡∏°)</h3>
      <div class="mini mt2">
  <div class="mini-title">üìå ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡πÅ‡∏ö‡∏ö‡∏£‡∏≤‡∏¢‡∏´‡πâ‡∏≠‡∏á</div>
  <div class="muted">
    ‡∏ï‡∏≠‡∏ô‡∏ô‡∏µ‡πâ‡∏´‡∏ô‡πâ‡∏≤‡∏ô‡∏µ‡πâ‡πÄ‡∏õ‡πá‡∏ô ‚Äú‡∏†‡∏≤‡∏û‡∏£‡∏ß‡∏°‡∏ó‡∏±‡πâ‡∏á‡∏ö‡πâ‡∏≤‡∏ô‚Äù  
    ‡∏ñ‡πâ‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡πÅ‡∏¢‡∏Å‡∏´‡πâ‡∏≠‡∏á (‡∏´‡πâ‡∏≠‡∏á‡∏ô‡∏≠‡∏ô/‡∏´‡πâ‡∏≠‡∏á‡∏ô‡∏±‡πà‡∏á‡πÄ‡∏•‡πà‡∏ô/‡∏Ñ‡∏£‡∏±‡∏ß) ‡πÉ‡∏´‡πâ‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏°‡∏î‡πâ‡∏≤‡∏ô‡∏•‡πà‡∏≤‡∏á
  </div>
</div>
      <ul class="list">
        {% for k,v in state.appliances.items() %}
          <li class="row between">
            <span>{{ k }}</span>
            <span class="muted">
              {{ "ON" if v.enabled else "OFF" }}
            </span>
          </li>
        {% endfor %}
      </ul>

      <div class="divider"></div>

      <!-- ACTION -->
      <div class="row gap">
        <a class="btn primary" href="{{ url_for('rooms_setup') }}">
          üëâ ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå‡πÅ‡∏¢‡∏Å‡∏ï‡∏≤‡∏°‡∏´‡πâ‡∏≠‡∏á
        </a>
      </div>
    </section>

    <!-- ===== RIGHT: RESULT ===== -->
    <aside class="card">
      <h2>‡∏™‡∏£‡∏∏‡∏õ‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô</h2>

      <div class="grid3 mt2">
        <div class="mini">
          <div class="mini-title">‚ö° ‡∏´‡∏ô‡πà‡∏ß‡∏¢‡πÑ‡∏ü‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î</div>
          <div class="big">‚Äî</div>
          <div class="muted small">kWh / ‡∏ß‡∏±‡∏ô</div>
        </div>
        <div class="mini">
          <div class="mini-title">üí∞ ‡∏Ñ‡πà‡∏≤‡πÑ‡∏ü‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î</div>
          <div class="big">‚Äî</div>
          <div class="muted small">‡∏ö‡∏≤‡∏ó / ‡∏ß‡∏±‡∏ô</div>
        </div>
        <div class="mini">
          <div class="mini-title">üìÖ ‡∏ï‡πà‡∏≠‡πÄ‡∏î‡∏∑‡∏≠‡∏ô</div>
          <div class="big">‚Äî</div>
          <div class="muted small">‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì‡∏Å‡∏≤‡∏£</div>
        </div>
      </div>

      <div class="divider"></div>

      <h3>‡∏Ñ‡∏≥‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥</h3>
      <ul class="tips">
        <li>‡∏ï‡∏±‡πâ‡∏á‡πÅ‡∏≠‡∏£‡πå <b>26¬∞C</b> ‡∏ä‡πà‡∏ß‡∏¢‡∏õ‡∏£‡∏∞‡∏´‡∏¢‡∏±‡∏î</li>
        <li>‡∏ñ‡πâ‡∏≤‡πÉ‡∏ä‡πâ TOU ‚Üí ‡πÉ‡∏ä‡πâ‡πÑ‡∏ü‡∏´‡∏ô‡∏±‡∏Å‡∏ä‡πà‡∏ß‡∏á <b>Off-Peak</b></li>
        <li>Solar ‡∏Ñ‡∏∏‡πâ‡∏°‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÉ‡∏ä‡πâ‡πÑ‡∏ü‡∏Å‡∏•‡∏≤‡∏á‡∏ß‡∏±‡∏ô</li>
        <li>EV ‡∏Ñ‡∏ß‡∏£‡∏ä‡∏≤‡∏£‡πå‡∏à‡∏ä‡πà‡∏ß‡∏á‡∏î‡∏∂‡∏Å</li>
      </ul>
    </aside>

  </main>
</div>
</body>
</html>
